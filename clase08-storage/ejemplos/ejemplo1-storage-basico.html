<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo 1: Local Storage BÃ¡sico - Clase 8</title>
    <link rel="stylesheet" href="./ejemplo1-storage-basico.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>ğŸ’¾ Local Storage BÃ¡sico</h1>
            <p>Aprende a guardar y recuperar datos en el navegador</p>
        </div>

        <!-- INTRODUCCIÃ“N AL LOCAL STORAGE -->
        <div class="demo-section">
            <h2>ğŸ¯ Â¿QuÃ© es Local Storage?</h2>
            <p>Local Storage es como la <strong>memoria de tu navegador</strong> que puede recordar informaciÃ³n entre sesiones.</p>
            
            <div class="info-box">
                <h3>ğŸ’¡ PiÃ©nsalo asÃ­:</h3>
                <ul style="margin-left: 20px;">
                    <li><strong>Como tu celular</strong> â†’ Guarda contactos, fotos, configuraciones</li>
                    <li><strong>Como una libreta</strong> â†’ Escribes informaciÃ³n y queda guardada</li>
                    <li><strong>Como tu configuraciÃ³n de apps</strong> â†’ Recuerda tema, idioma, preferencias</li>
                </ul>
                <p><strong>Â¡Local Storage hace lo mismo con tu sitio web!</strong></p>
            </div>

            <div class="code-block">// ğŸ’¾ GUARDAR datos
localStorage.setItem('nombre', 'Ana');
localStorage.setItem('tema', 'oscuro');

// ğŸ“± RECUPERAR datos
const nombre = localStorage.getItem('nombre');
const tema = localStorage.getItem('tema');

// ğŸ—‘ï¸ BORRAR datos
localStorage.removeItem('nombre');
localStorage.clear(); // Borra todo</div>
        </div>

        <!-- DEMO 1: GUARDAR Y RECUPERAR TEXTO -->
        <div class="demo-section">
            <h2>ğŸ“ Demo 1: Guardar y Recuperar Texto</h2>
            <p>Guarda tu nombre y verÃ¡s que se mantiene <strong>aunque recargues la pÃ¡gina</strong>.</p>

            <div class="two-column">
                <div>
                    <h4>Guardar datos:</h4>
                    <input type="text" id="input-nombre" class="demo-input" placeholder="Escribe tu nombre...">
                    <input type="text" id="input-email" class="demo-input" placeholder="Escribe tu email...">
                </div>
                <div>
                    <h4>Datos guardados:</h4>
                    <div id="resultado-texto" class="demo-result">
                        Presiona "Guardar" para ver los datos aquÃ­...
                    </div>
                </div>
            </div>

            <div class="demo-controls">
                <button class="btn" onclick="guardarTexto()">ğŸ’¾ Guardar</button>
                <button class="btn" onclick="recuperarTexto()">ğŸ“± Recuperar</button>
                <button class="btn" onclick="borrarTexto()">ğŸ—‘ï¸ Borrar</button>
                <button class="btn" onclick="recargarPagina()">ğŸ”„ Recargar pÃ¡gina</button>
            </div>

            <div class="code-block">function guardarTexto() {
    const nombre = document.querySelector('#input-nombre').value;
    const email = document.querySelector('#input-email').value;
    
    // Guardar en Local Storage
    localStorage.setItem('usuario-nombre', nombre);
    localStorage.setItem('usuario-email', email);
    
    console.log('âœ… Datos guardados!');
}</div>
        </div>

        <!-- DEMO 2: OBJETOS CON JSON -->
        <div class="demo-section">
            <h2>ğŸ“¦ Demo 2: Guardar Objetos (JSON)</h2>
            <p>Local Storage solo guarda <strong>strings</strong>, pero podemos usar <strong>JSON</strong> para objetos y arrays.</p>

            <div class="warning-box">
                <h3>âš ï¸ Importante:</h3>
                <p>Local Storage NO puede guardar objetos directamente. Necesitamos convertirlos a texto con <code>JSON.stringify()</code> y reconvertirlos con <code>JSON.parse()</code>.</p>
            </div>

            <div class="two-column">
                <div>
                    <h4>Crear perfil:</h4>
                    <input type="text" id="perfil-nombre" class="demo-input" placeholder="Nombre">
                    <input type="number" id="perfil-edad" class="demo-input" placeholder="Edad">
                    <input type="text" id="perfil-ciudad" class="demo-input" placeholder="Ciudad">
                </div>
                <div>
                    <h4>Perfil guardado:</h4>
                    <div id="resultado-perfil" class="demo-result">
                        Crea tu perfil y guÃ¡rdalo...
                    </div>
                </div>
            </div>

            <div class="demo-controls">
                <button class="btn" onclick="guardarPerfil()">ğŸ’¾ Guardar Perfil</button>
                <button class="btn" onclick="recuperarPerfil()">ğŸ“± Mostrar Perfil</button>
                <button class="btn" onclick="borrarPerfil()">ğŸ—‘ï¸ Borrar Perfil</button>
            </div>

            <div class="code-block">function guardarPerfil() {
    const perfil = {
        nombre: document.querySelector('#perfil-nombre').value,
        edad: document.querySelector('#perfil-edad').value,
        ciudad: document.querySelector('#perfil-ciudad').value,
        fechaCreacion: new Date().toLocaleString()
    };
    
    // Convertir objeto a string JSON
    const perfilJSON = JSON.stringify(perfil);
    localStorage.setItem('usuario-perfil', perfilJSON);
}</div>
        </div>

        <!-- DEMO 3: PREFERENCIAS DEL USUARIO -->
        <div class="demo-section">
            <h2>ğŸ¨ Demo 3: Recordar Preferencias</h2>
            <p>Un uso tÃ­pico: <strong>recordar las preferencias del usuario</strong> como tema, idioma, etc.</p>

            <div class="two-column">
                <div>
                    <h4>ConfiguraciÃ³n:</h4>
                    <label>
                        <input type="checkbox" id="tema-oscuro"> ğŸŒ™ Tema oscuro
                    </label><br><br>
                    <label>
                        <input type="checkbox" id="notificaciones"> ğŸ”” Notificaciones
                    </label><br><br>
                    <select id="idioma" class="demo-input">
                        <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="pt">ğŸ‡§ğŸ‡· PortuguÃªs</option>
                    </select>
                </div>
                <div>
                    <h4>ConfiguraciÃ³n actual:</h4>
                    <div id="resultado-config" class="demo-result">
                        Ajusta la configuraciÃ³n y guÃ¡rdala...
                    </div>
                </div>
            </div>

            <div class="demo-controls">
                <button class="btn" onclick="guardarConfiguracion()">ğŸ’¾ Guardar Config</button>
                <button class="btn" onclick="cargarConfiguracion()">ğŸ“± Cargar Config</button>
                <button class="btn" onclick="resetearConfiguracion()">ğŸ”„ Resetear</button>
            </div>

            <div class="code-block">function guardarConfiguracion() {
    const config = {
        temaOscuro: document.querySelector('#tema-oscuro').checked,
        notificaciones: document.querySelector('#notificaciones').checked,
        idioma: document.querySelector('#idioma').value
    };
    
    localStorage.setItem('configuracion', JSON.stringify(config));
    mostrarConfiguracion(config);
}</div>
        </div>

        <!-- DEMO 4: VER TODO EL STORAGE -->
        <div class="demo-section">
            <h2>ğŸ” Demo 4: Inspeccionar Local Storage</h2>
            <p>Veamos <strong>todo lo que hay guardado</strong> en Local Storage.</p>

            <div class="storage-status" id="storage-completo">
                Presiona "Ver Storage" para inspeccionar...
            </div>

            <div class="demo-controls">
                <button class="btn" onclick="mostrarStorage()">ğŸ‘€ Ver Storage</button>
                <button class="btn" onclick="limpiarTodoStorage()">ğŸ§¹ Limpiar Todo</button>
                <button class="btn" onclick="abrirDevTools()">ğŸ› ï¸ Abrir DevTools</button>
            </div>

            <div class="success-box">
                <h3>ğŸ’¡ Pro Tip:</h3>
                <p>Abre las <strong>Developer Tools (F12)</strong> â†’ pestaÃ±a <strong>Application</strong> â†’ <strong>Local Storage</strong> para ver y editar datos guardados.</p>
            </div>
        </div>

        <!-- CASOS DE USO PRÃCTICOS -->
        <div class="demo-section">
            <h2>ğŸš€ Casos de Uso para tu Proyecto</h2>
            <p>Ideas de cÃ³mo usar Local Storage en <strong>tu proyecto personal</strong>:</p>

            <div class="two-column">
                <div>
                    <h4>ğŸ’¼ Portfolio:</h4>
                    <ul style="margin-left: 20px;">
                        <li>ğŸŒ™ Tema claro/oscuro</li>
                        <li>ğŸ“‚ Filtro de proyectos</li>
                        <li>ğŸ“ Formulario contacto</li>
                        <li>â­ Proyectos favoritos</li>
                    </ul>
                </div>
                <div>
                    <h4>ğŸ½ï¸ Restaurante:</h4>
                    <ul style="margin-left: 20px;">
                        <li>ğŸ›’ Carrito de pedidos</li>
                        <li>ğŸ’– Platos favoritos</li>
                        <li>ğŸ“… Reservas temporales</li>
                        <li>ğŸ‘¤ Datos del cliente</li>
                    </ul>
                </div>
            </div>

            <div class="two-column">
                <div>
                    <h4>ğŸ“ Blog:</h4>
                    <ul style="margin-left: 20px;">
                        <li>ğŸ·ï¸ CategorÃ­a preferida</li>
                        <li>ğŸ” BÃºsquedas recientes</li>
                        <li>ğŸ’¬ Comentarios borradores</li>
                        <li>ğŸ“Š Progreso de lectura</li>
                    </ul>
                </div>
                <div>
                    <h4>ğŸ’¼ Servicios:</h4>
                    <ul style="margin-left: 20px;">
                        <li>ğŸ’° CotizaciÃ³n en progreso</li>
                        <li>â­ Servicios de interÃ©s</li>
                        <li>ğŸ“ Datos de contacto</li>
                        <li>ğŸ“Š ConfiguraciÃ³n de calculadora</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <script>
        // ========================================
        // DEMO 1: GUARDAR Y RECUPERAR TEXTO
        // ========================================
        
        function guardarTexto() {
            const nombre = document.querySelector('#input-nombre').value;
            const email = document.querySelector('#input-email').value;
            
            if (!nombre || !email) {
                alert('âš ï¸ Por favor completa ambos campos');
                return;
            }
            
            // Guardar en Local Storage
            localStorage.setItem('usuario-nombre', nombre);
            localStorage.setItem('usuario-email', email);
            
            // Mostrar inmediatamente
            recuperarTexto();
            
            console.log('âœ… Datos guardados en Local Storage');
        }
        
        function recuperarTexto() {
            const nombre = localStorage.getItem('usuario-nombre');
            const email = localStorage.getItem('usuario-email');
            
            const resultado = document.querySelector('#resultado-texto');
            
            if (nombre && email) {
                resultado.innerHTML = `
                    <strong>âœ… Datos recuperados:</strong><br>
                    ğŸ“ Nombre: ${nombre}<br>
                    ğŸ“§ Email: ${email}<br>
                    <small>ğŸ•’ Guardado en: ${new Date().toLocaleString()}</small>
                `;
                resultado.style.background = '#e8f5e8';
            } else {
                resultado.innerHTML = 'âŒ No hay datos guardados';
                resultado.style.background = '#ffe8e8';
            }
        }
        
        function borrarTexto() {
            localStorage.removeItem('usuario-nombre');
            localStorage.removeItem('usuario-email');
            
            document.querySelector('#resultado-texto').innerHTML = 'ğŸ—‘ï¸ Datos borrados del Local Storage';
            document.querySelector('#resultado-texto').style.background = '#fff3cd';
            
            // Limpiar inputs
            document.querySelector('#input-nombre').value = '';
            document.querySelector('#input-email').value = '';
        }
        
        function recargarPagina() {
            if (confirm('ğŸ”„ Â¿Recargar la pÃ¡gina? (Los datos guardados deben mantenerse)')) {
                location.reload();
            }
        }
        
        // ========================================
        // DEMO 2: OBJETOS CON JSON
        // ========================================
        
        function guardarPerfil() {
            const nombre = document.querySelector('#perfil-nombre').value;
            const edad = document.querySelector('#perfil-edad').value;
            const ciudad = document.querySelector('#perfil-ciudad').value;
            
            if (!nombre || !edad || !ciudad) {
                alert('âš ï¸ Por favor completa todos los campos del perfil');
                return;
            }
            
            const perfil = {
                nombre: nombre,
                edad: parseInt(edad),
                ciudad: ciudad,
                fechaCreacion: new Date().toLocaleString()
            };
            
            // Â¡IMPORTANTE! Convertir objeto a string JSON
            const perfilJSON = JSON.stringify(perfil);
            localStorage.setItem('usuario-perfil', perfilJSON);
            
            recuperarPerfil();
            console.log('âœ… Perfil guardado:', perfil);
        }
        
        function recuperarPerfil() {
            const perfilJSON = localStorage.getItem('usuario-perfil');
            const resultado = document.querySelector('#resultado-perfil');
            
            if (perfilJSON) {
                // Â¡IMPORTANTE! Convertir string JSON de vuelta a objeto
                const perfil = JSON.parse(perfilJSON);
                
                resultado.innerHTML = `
                    <strong>âœ… Perfil recuperado:</strong><br>
                    ğŸ‘¤ Nombre: ${perfil.nombre}<br>
                    ğŸ‚ Edad: ${perfil.edad} aÃ±os<br>
                    ğŸ™ï¸ Ciudad: ${perfil.ciudad}<br>
                    ğŸ•’ Creado: ${perfil.fechaCreacion}
                `;
                resultado.style.background = '#e8f5e8';
            } else {
                resultado.innerHTML = 'âŒ No hay perfil guardado';
                resultado.style.background = '#ffe8e8';
            }
        }
        
        function borrarPerfil() {
            localStorage.removeItem('usuario-perfil');
            document.querySelector('#resultado-perfil').innerHTML = 'ğŸ—‘ï¸ Perfil borrado del Local Storage';
            document.querySelector('#resultado-perfil').style.background = '#fff3cd';
            
            // Limpiar inputs
            document.querySelector('#perfil-nombre').value = '';
            document.querySelector('#perfil-edad').value = '';
            document.querySelector('#perfil-ciudad').value = '';
        }
        
        // ========================================
        // DEMO 3: PREFERENCIAS
        // ========================================
        
        function guardarConfiguracion() {
            const config = {
                temaOscuro: document.querySelector('#tema-oscuro').checked,
                notificaciones: document.querySelector('#notificaciones').checked,
                idioma: document.querySelector('#idioma').value,
                fechaActualizacion: new Date().toLocaleString()
            };
            
            localStorage.setItem('configuracion', JSON.stringify(config));
            mostrarConfiguracion(config);
            console.log('âœ… ConfiguraciÃ³n guardada:', config);
        }
        
        function cargarConfiguracion() {
            const configJSON = localStorage.getItem('configuracion');
            
            if (configJSON) {
                const config = JSON.parse(configJSON);
                
                // Aplicar configuraciÃ³n a los elementos
                document.querySelector('#tema-oscuro').checked = config.temaOscuro;
                document.querySelector('#notificaciones').checked = config.notificaciones;
                document.querySelector('#idioma').value = config.idioma;
                
                mostrarConfiguracion(config);
                console.log('âœ… ConfiguraciÃ³n cargada:', config);
            } else {
                document.querySelector('#resultado-config').innerHTML = 'âŒ No hay configuraciÃ³n guardada';
                document.querySelector('#resultado-config').style.background = '#ffe8e8';
            }
        }
        
        function mostrarConfiguracion(config) {
            const resultado = document.querySelector('#resultado-config');
            resultado.innerHTML = `
                <strong>âœ… ConfiguraciÃ³n actual:</strong><br>
                ğŸŒ™ Tema oscuro: ${config.temaOscuro ? 'Activado' : 'Desactivado'}<br>
                ğŸ”” Notificaciones: ${config.notificaciones ? 'Activadas' : 'Desactivadas'}<br>
                ğŸŒ Idioma: ${config.idioma}<br>
                ğŸ•’ Actualizado: ${config.fechaActualizacion}
            `;
            resultado.style.background = '#e8f5e8';
        }
        
        function resetearConfiguracion() {
            localStorage.removeItem('configuracion');
            
            // Resetear elementos a valores por defecto
            document.querySelector('#tema-oscuro').checked = false;
            document.querySelector('#notificaciones').checked = false;
            document.querySelector('#idioma').value = 'es';
            
            document.querySelector('#resultado-config').innerHTML = 'ğŸ”„ ConfiguraciÃ³n reseteada';
            document.querySelector('#resultado-config').style.background = '#fff3cd';
        }
        
        // ========================================
        // DEMO 4: INSPECCIONAR STORAGE
        // ========================================
        
        function mostrarStorage() {
            const storageDiv = document.querySelector('#storage-completo');
            let contenido = '<strong>ğŸ“¦ Contenido completo del Local Storage:</strong><br><br>';
            
            if (localStorage.length === 0) {
                contenido += 'ğŸ—‚ï¸ Local Storage estÃ¡ vacÃ­o';
            } else {
                for (let i = 0; i < localStorage.length; i++) {
                    const clave = localStorage.key(i);
                    const valor = localStorage.getItem(clave);
                    
                    contenido += `<strong>${clave}:</strong><br>`;
                    contenido += `${valor}<br><br>`;
                }
                
                contenido += `<strong>ğŸ“Š Total elementos:</strong> ${localStorage.length}`;
            }
            
            storageDiv.innerHTML = contenido;
        }
        
        function limpiarTodoStorage() {
            if (confirm('ğŸ§¹ Â¿EstÃ¡s seguro de borrar TODOS los datos de Local Storage?')) {
                localStorage.clear();
                
                // Limpiar todas las pantallas
                document.querySelector('#resultado-texto').innerHTML = 'ğŸ§¹ Storage limpiado';
                document.querySelector('#resultado-perfil').innerHTML = 'ğŸ§¹ Storage limpiado';
                document.querySelector('#resultado-config').innerHTML = 'ğŸ§¹ Storage limpiado';
                document.querySelector('#storage-completo').innerHTML = 'ğŸ§¹ Local Storage completamente limpiado';
                
                console.log('ğŸ§¹ Local Storage completamente limpiado');
            }
        }
        
        function abrirDevTools() {
            alert('ğŸ’¡ Presiona F12 o clic derecho â†’ Inspeccionar\n\nğŸ“‹ Luego ve a:\nApplication â†’ Storage â†’ Local Storage â†’ ' + window.location.origin);
        }
        
        // ========================================
        // CARGAR DATOS AL INICIAR LA PÃGINA
        // ========================================
        
        // Cuando se carga la pÃ¡gina, recuperar datos existentes
        document.addEventListener('DOMContentLoaded', function() {
            recuperarTexto();
            recuperarPerfil();
            cargarConfiguracion();
            mostrarStorage();
            
            console.log('ğŸš€ PÃ¡gina cargada - Local Storage Example iniciado');
        });
    </script>
</body>
</html>